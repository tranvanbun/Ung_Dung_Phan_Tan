# ğŸ§± Chá»n image Node.js nháº¹ vÃ  á»•n Ä‘á»‹nh
FROM node:20-alpine

# ğŸ  Táº¡o thÆ° má»¥c lÃ m viá»‡c trong container
WORKDIR /app

# ğŸ“¦ Copy package.json vÃ o container Ä‘á»ƒ cÃ i dependencies trÆ°á»›c
COPY package*.json ./

# âš™ï¸ CÃ i Ä‘áº·t dependencies
RUN npm install

# ğŸ“‚ Copy toÃ n bá»™ mÃ£ nguá»“n vÃ o container
COPY . .

# ğŸŒ Biáº¿n mÃ´i trÆ°á»ng máº·c Ä‘á»‹nh
ENV NODE_ENV=production
RUN npx prisma generate
# ğŸšª Má»Ÿ cá»•ng mÃ  app sáº½ cháº¡y
EXPOSE 3000

# ğŸš€ Cháº¡y á»©ng dá»¥ng
CMD ["npm", "start"]
