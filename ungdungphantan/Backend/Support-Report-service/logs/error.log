[2025-10-14T02:16:45.979Z] ERROR: Get tickets failed

[2025-10-14T02:16:45.981Z] ERROR: Error getting tickets:
Error: Error fetching tickets: 
Invalid `prisma.support_tickets.findMany()` invocation in
C:\Users\tranb\Desktop\PTTKPM25-26_N05_Nhom4\Document\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:43:52

  40 if (status) where.status = status;
  41 if (category) where.category = category;
  42 
→ 43 const tickets = await prisma.support_tickets.findMany(
error: Environment variable not found: DATABASE_URL.
  -->  schema.prisma:7
   | 
 6 |   provider = "postgresql"
 7 |   url      = env("DATABASE_URL")
   | 

Validation Error Count: 1
    at SupportTicketService.getAllTickets (C:\Users\tranb\Desktop\PTTKPM25-26_N05_Nhom4\Document\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:58:13)
    at async SupportTicketService.getAll (C:\Users\tranb\Desktop\PTTKPM25-26_N05_Nhom4\Document\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:185:20)
    at async C:\Users\tranb\Desktop\PTTKPM25-26_N05_Nhom4\Document\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\routes\supportTicket.routes.js:14:21
[2025-10-14T02:16:50.335Z] ERROR: Get reports failed

[2025-10-15T06:53:09.377Z] ERROR: Create ticket failed

[2025-10-15T06:53:09.380Z] ERROR: Error creating ticket:
Error: Error creating ticket: 
Invalid `prisma.support_tickets.create()` invocation in
D:\code\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:11:51

   8 try {
   9   logger.info("Creating ticket", { userId: data.userId });
  10 
→ 11   const ticket = await prisma.support_tickets.create({
         data: {
           userId: 1,
           title: "asdad",
           description: "adad",
           category: "MAINTENANCE",
           status: "open",
           priority: "LOW",
           attachments: null,
           updated_at: new Date("2025-10-15T06:53:09.351Z"),
       +   userRole: String
         }
       })

Argument `userRole` is missing.
    at SupportTicketService.createTicket (D:\code\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:29:13)
    at async D:\code\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\routes\supportTicket.routes.js:27:20
[2025-10-15T06:59:18.900Z] ERROR: Create ticket failed

[2025-10-15T06:59:18.902Z] ERROR: Error creating ticket:
Error: Error creating ticket: 
Invalid `prisma.support_tickets.create()` invocation in
D:\code\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:16:51

  13 try {
  14   logger.info("Creating ticket", { userId: data.userId });
  15 
→ 16   const ticket = await prisma.support_tickets.create({
         data: {
           userId: 1,
                   ~
           userRole: "LANDLORD",
           title: "asdad",
           description: "adadasd",
           category: "MAINTENANCE",
           status: "open",
           priority: "normal",
           attachments: null,
           updated_at: new Date("2025-10-15T06:59:18.886Z")
         }
       })

Argument `userId`: Invalid value provided. Expected String, provided Int.
    at SupportTicketService.createTicket (D:\code\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\modules\supportTicket.service.js:34:13)
    at async D:\code\Ung_Dung_Phan_Tan\ungdungphantan\Backend\Support-Report-service\src\routes\supportTicket.routes.js:44:20
[2025-10-15T17:17:11.517Z] ERROR: Get tickets failed

[2025-10-15T17:17:11.520Z] ERROR: Error getting tickets:
Error: Error fetching tickets: 
Invalid `prisma.support_tickets.findMany()` invocation:


Database `communication_db` does not exist
    at SupportTicketService.getAllTickets (/app/src/modules/supportTicket.service.js:63:13)
    at async SupportTicketService.getAll (/app/src/modules/supportTicket.service.js:188:20)
    at async /app/src/routes/supportTicket.routes.js:14:21
[2025-10-15T17:17:11.649Z] ERROR: Get tickets failed

[2025-10-15T17:17:11.652Z] ERROR: Error getting tickets:
Error: Error fetching tickets: 
Invalid `prisma.support_tickets.findMany()` invocation:


Database `communication_db` does not exist
    at SupportTicketService.getAllTickets (/app/src/modules/supportTicket.service.js:63:13)
    at async SupportTicketService.getAll (/app/src/modules/supportTicket.service.js:188:20)
    at async /app/src/routes/supportTicket.routes.js:14:21
[2025-10-15T17:17:12.963Z] ERROR: Get tickets failed

[2025-10-15T17:17:12.967Z] ERROR: Error getting tickets:
Error: Error fetching tickets: 
Invalid `prisma.support_tickets.findMany()` invocation:


Database `communication_db` does not exist
    at SupportTicketService.getAllTickets (/app/src/modules/supportTicket.service.js:63:13)
    at async SupportTicketService.getAll (/app/src/modules/supportTicket.service.js:188:20)
    at async /app/src/routes/supportTicket.routes.js:14:21
[2025-10-15T17:17:13.087Z] ERROR: Get tickets failed

[2025-10-15T17:17:13.091Z] ERROR: Error getting tickets:
Error: Error fetching tickets: 
Invalid `prisma.support_tickets.findMany()` invocation:


Database `communication_db` does not exist
    at SupportTicketService.getAllTickets (/app/src/modules/supportTicket.service.js:63:13)
    at async SupportTicketService.getAll (/app/src/modules/supportTicket.service.js:188:20)
    at async /app/src/routes/supportTicket.routes.js:14:21
